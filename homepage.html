<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Explore the latest videos at the Smile School">
    <title>Latest Videos</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<!-- Latest Videos Section -->
<section class="latest-videos">
    <!-- Loader -->
    <div class="loader" id="video-loader"></div>

    <!-- Carousel Container -->
    <div id="video-carousel" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
            <!-- Videos will be dynamically loaded here -->
        </div>
        <!-- Left and right controls -->
        <a class="carousel-control-prev" href="#video-carousel" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#video-carousel" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
</section>

<!-- JavaScript for Dynamic Loading of Latest Videos -->
<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>

<script>
    // Function to load latest videos dynamically
    function loadLatestVideos() {
        // Show loader
        $('#video-loader').show();

        // Make Ajax request to fetch latest videos
        $.ajax({
            url: 'https://smileschool-api.alx-tools.com/latest-videos',
            method: 'GET',
            success: function (data) {
                // Hide loader
                $('#video-loader').hide();

                // Display videos in the carousel
                displayVideos(data);
            },
            error: function () {
                // Handle error
                console.error('Error fetching latest videos');
            }
        });
    }

    // Function to display videos in the carousel
    function displayVideos(videos) {
        var carouselInner = $('#video-carousel .carousel-inner');
        carouselInner.empty();

        // Loop through videos and create carousel items
        videos.forEach(function (video, index) {
            var activeClass = index === 0 ? 'active' : '';
            var carouselItem = `<div class="carousel-item ${activeClass}">
                                    <img src="${video.thumbnail}" alt="${video.title}" class="d-block w-100">
                                    <div class="carousel-caption d-none d-md-block">
                                        <h5>${video.title}</h5>
                                        <p>${video.description}</p>
                                    </div>
                                </div>`;
            carouselInner.append(carouselItem);
        });
    }

    // Load latest videos on document ready
    $(document).ready(function () {
        loadLatestVideos();
    });
</script>

</body>
</html>
